<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>German Vocabulary Learner</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
  <div id="test-container"></div>
  <button id="wordbank-btn">WORDBANK</button>
  <button id="testbank-btn">TESTBANK</button>

  <!-- Wordbank Modal -->
  <div id="wordbank-modal" class="modal">
    <div class="modal-content">
      <span id="close-wordbank" class="close" aria-label="Close Wordbank Modal">&times;</span>
      <h2>Wordbank: Select Themes</h2>
      <div id="theme-buttons"></div>
      <button id="show-words-btn" style="display: none;" class="theme-btn" aria-label="Show selected themes">Show Selected Themes</button>
      <div id="word-table-container" style="display: none;">
        <h3 id="theme-title"></h3>
        <div class="controls">
          <button class="play-all-btn" onclick="playAllAudio()" aria-label="Play all German words in selected themes">‚ñ∂Ô∏è Play All</button>
          <button class="stop-btn" onclick="stopAudio()" style="display: none;" aria-label="Stop audio playback">‚èπÔ∏è Stop</button>
          <button class="settings-btn" onclick="openSettingsModal()" aria-label="Open playback settings">‚öôÔ∏è Settings</button>
          <button class="download-btn" id="download-pdf-btn" aria-label="Download word list as PDF">üì• Download PDF</button>
        </div>
        <table id="word-table">
          <thead>
            <tr>
              <th scope="col">Article</th>
              <th scope="col">German</th>
              <th scope="col">English</th>
              <th scope="col">Audio (DE)</th>
              <th scope="col">Audio (EN)</th>
            </tr>
          </thead>
          <tbody id="word-table-body"></tbody>
        </table>
        <button onclick="backToThemes('wordbank')" class="back-btn" aria-label="Back to theme selection">Back to Themes</button>
      </div>
    </div>
  </div>

  <!-- Hidden div for PDF generation -->
  <div id="pdf-content" style="display: none;">
    <h2>German Vocabulary List</h2>
    <h3 id="pdf-theme-title"></h3>
    <table id="pdf-word-table">
      <thead>
        <tr>
          <th>Article</th>
          <th>German</th>
          <th>English</th>
          <th>Theme</th>
        </tr>
      </thead>
      <tbody id="pdf-word-table-body"></tbody>
    </table>
  </div>

  <!-- Settings Modal -->
  <div id="settings-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <span id="close-settings" class="close" aria-label="Close Settings Modal">&times;</span>
      <h2>Playback Settings</h2>
      <label for="speech-rate">Speech Speed:</label>
      <select id="speech-rate" aria-label="Select speech speed">
        <option value="0.5">0.5x (Slow)</option>
        <option value="0.8" selected>0.8x (Normal)</option>
        <option value="1.0">1.0x (Default)</option>
        <option value="1.2">1.2x (Fast)</option>
        <option value="1.5">1.5x (Faster)</option>
      </select>
      <button onclick="saveSettings()" class="theme-btn" aria-label="Save settings">Save</button>
    </div>
  </div>

  <!-- Testbank Modal -->
  <div id="testbank-modal" class="modal">
    <div class="modal-content">
      <span id="close-testbank" class="close" aria-label="Close Testbank Modal">&times;</span>
      <h2>Testbank: Select a Theme</h2>
      <div id="test-theme-buttons"></div>
      <div id="test-options-container" style="display: none;">
        <h3 id="test-theme-title"></h3>
        <div id="test-type-buttons">
          <button onclick="startMeaningsTest()" aria-label="Meanings Test">üéµ Meanings Test</button>
          <button onclick="startDictationTest()" aria-label="Dictation Test">üé§ Dictation Test</button>
          <button onclick="startArticleTest()" aria-label="Article Test">üìù Article Test</button>
          <button onclick="startMatchingTest()" aria-label="Matching Test">üîó Matching Test</button>
        </div>
        <div id="test-content"></div>
      </div>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
